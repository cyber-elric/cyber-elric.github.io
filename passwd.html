<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="css/passwd.css" rel="stylesheet"/>
    <link rel="shortcut icon" href="img/favicon.ico"/>
    <title>password</title>
<head>

<body >
    <div>
        <h1>Password</h1>
        <div class="inputBox">
            <input class="textBox" id="pswd" type="text" placeholder="密保">
        </div>
        <div class="inputBox">
            <input class="textBox" id="app" type="text" placeholder="用处">
        </div>
        <div class="inputBox">
            <input class="textBox" id="length" type="text" placeholder="长度">
        </div>
        <input class="btn1" type="button" onclick="easter_egg()" value='现'>

    </div>

    <script>
        document.onkeydown = kb;
        function kb() {
            if(event.keyCode == 13) {
                easter_egg()
            }
        }

        function easter_egg() {
            var i1, i2, i3;
            i1 = document.getElementById('pswd').value;
            i2 = document.getElementById('app').value;
            i3 = document.getElementById('length').value;

            if(isNaN(i3)) {
                alert("长度要填数字");
                return 0;
            }

            if(i1 == "lsb" && i2 == "lsp" && i3 == "156") {
                window.location.assign("./lsp.html");
            }
            else {
                password(i1, i2, i3);
            }
        }

        function password(i1, i2, i3) {
            i1 = escape(i1);
            i2 = escape(i2);
            var pswd, ap, cod, temp;
            pswd = window.btoa(i1);
            pswd = window.btoa(pswd);
            ap = window.btoa(i2);
            ap = window.btoa(ap);
            cod = window.btoa(pswd + ap);
            cod = window.btoa(cod);
            cod = cod.substr(2, parseInt(i3));
            prompt("生成的密码：", cod);
            temp = document.createElement("input");
            temp.setAttribute("type", "text");
            temp.setAttribute("value", cod);
            temp.setAttribute("style", "opacity:0");
            document.body.appendChild(temp);
            temp.select();
            document.execCommand('Copy');
        }
    </script>
</body>
</html>
